# BMad-Method 使用文档

## 🚀 简介

BMad-Method（突破性AI驱动敏捷开发方法）是一个将您转变为"Vibe CEO"的革命性框架，通过专业AI代理团队完成从创意到部署的完整开发流程。

### 核心理念
- **你指挥，AI执行**：提供愿景和决策，AI处理实施细节
- **专业分工**：每个代理专精一个角色
- **结构化流程**：从想法到代码的标准化路径
- **清晰交接**：确保代理保持专注和高效

## 📦 安装与配置

### 方式1：IDE集成安装（推荐）

```bash
# 交互式安装
npx bmad-method install

# 或者如果已安装BMad
git pull
npm run install:bmad
```

### 方式2：Web UI快速开始

1. 导航到 `dist/teams/` 目录
2. 复制 `team-fullstack.txt` 内容
3. 创建新的Gemini Gem或CustomGPT
4. 上传文件，使用说明："Your critical operating instructions are attached, do not break character as directed"
5. 输入 `/help` 查看可用命令

### 核心配置文件

编辑 `.bmad-core/core-config.yaml`：

```yaml
devLoadAlwaysFiles:
  - docs/architecture/coding-standards.md
  - docs/architecture/tech-stack.md
  - docs/architecture/source-tree.md
```

## 🎯 双阶段工作流程

### 阶段1：规划阶段（Web UI - 成本效益）

#### 1. 项目启动
```
输入：项目创意或需求描述
使用代理：Analyst（分析师）
```

#### 2. 需求分析（可选）
- **市场调研**：`*analyst` → 市场分析
- **竞品分析**：分析竞争对手
- **项目简报**：创建项目概述

#### 3. 产品需求文档（PRD）
```
使用代理：PM（产品经理）
命令：*pm
输出：docs/prd.md
包含：功能需求、非功能需求、史诗故事
```

#### 4. UX设计（可选）
```
使用代理：UX Expert
命令：*ux-expert
输出：前端设计规范、UI提示词
```

#### 5. 系统架构
```
使用代理：Architect（架构师）
命令：*architect
输出：docs/architecture.md
包含：技术栈、系统设计、代码标准
```

#### 6. 文档对齐检查
```
使用代理：PO（产品负责人）
命令：*po
任务：运行主检查清单，确保文档一致性
```

### 阶段2：开发阶段（IDE环境）

#### 1. 环境切换
- 将 `docs/prd.md` 和 `docs/architecture.md` 复制到项目
- 切换到IDE环境
- 开始文档分片处理

#### 2. 文档分片
```
使用代理：PO
命令：*po
任务：分片PRD和架构文档
输出：docs/prd/、docs/architecture/ 目录
```

#### 3. 开发循环（重复执行）

##### Step 1: 创建用户故事
```
使用代理：Scrum Master (SM)
命令：*draft
操作：
1. 启动新对话
2. 加载SM代理
3. 执行故事创建任务
4. 审查生成的故事（docs/stories/）
5. 将状态从"Draft"改为"Approved"
```

##### Step 2: 实施开发
```
使用代理：Developer (Dev)
命令：*develop-story {story-name}
操作：
1. 启动新对话
2. 加载Dev代理
3. 执行开发检查清单
4. 审查生成的报告
```

##### Step 3: 质量保证
```
使用代理：Quality Assurance (QA)
命令：*review {story-name}
操作：
1. 启动新对话
2. 加载QA代理
3. 执行代码审查任务
4. 审查生成的报告
```

##### Step 4: 提交与推送
```bash
git add .
git commit -m "Complete story: [story-name]"
git push origin branch-name
```

## 👥 AI代理详细介绍

### 规划阶段代理

#### 🔍 Analyst（分析师）
- **职责**：市场调研、竞品分析、项目简报
- **使用时机**：项目启动初期
- **输出**：市场分析报告、项目简报

#### 📋 PM（产品经理）
- **职责**：创建PRD文档、定义功能需求
- **输入**：项目简报或创意描述
- **输出**：完整PRD文档

#### 🎨 UX Expert（UX专家）
- **职责**：前端设计规范、UI/UX指导
- **输入**：PRD文档
- **输出**：设计规范、UI提示词

#### 🏗️ Architect（架构师）
- **职责**：系统架构设计、技术栈选择
- **输入**：PRD文档、UX规范
- **输出**：架构文档、代码标准

#### 👑 PO（产品负责人）
- **职责**：文档对齐、史诗故事管理
- **输入**：所有规划文档
- **输出**：一致性检查报告

### 开发阶段代理

#### 📝 Scrum Master（SM）
- **职责**：用户故事创建、任务分解
- **输入**：分片的史诗文档
- **输出**：详细用户故事

#### 👨‍💻 Developer（Dev）
- **职责**：功能实现、测试编写
- **输入**：已批准的用户故事
- **输出**：工作代码、测试用例

#### 🔍 QA（质量保证）
- **职责**：代码审查、重构优化
- **输入**：已完成的代码
- **输出**：优化建议、测试补充

### 特殊代理

#### 🎯 BMad-Master
- **职责**：万能代理，可执行除开发外的所有任务
- **使用场景**：不想频繁切换代理时
- **注意事项**：上下文增长时需要压缩对话

#### 🎭 BMad-Orchestrator
- **职责**：Web环境协调器，可变身任何代理
- **使用场景**：仅在Web Bundle环境中使用
- **警告**：不要在IDE中使用

## 🛠️ 具体操作指南

### IDE环境操作

#### Cursor / Windsurf
```bash
# 加载代理
@pm Create a PRD for a task management app
@architect Design the system architecture
@dev Implement the user authentication

# 执行任务
@sm *draft
@dev *develop-story story-001
@qa *review story-001
```

#### Claude Code
```bash
# 使用斜杠命令
/pm Create user stories
/dev Fix the login bug
/qa Review authentication module
```

### 命令系统

#### 基础命令
- `*help` - 显示帮助信息
- `*draft` - 创建新用户故事
- `*develop-story {name}` - 开发指定故事
- `*review {name}` - 审查指定故事

#### 代理切换
- `*analyst` - 切换到分析师
- `*pm` - 切换到产品经理
- `*architect` - 切换到架构师
- `*ux-expert` - 切换到UX专家
- `*po` - 切换到产品负责人
- `*sm` - 切换到Scrum Master
- `*dev` - 切换到开发者
- `*qa` - 切换到质量保证

## 📁 文件结构

```
project/
├── .bmad-core/                 # BMad核心文件
│   ├── agents/                 # 代理定义
│   ├── templates/              # 文档模板
│   ├── tasks/                  # 任务定义
│   ├── data/                   # 知识库数据
│   └── core-config.yaml        # 核心配置
├── docs/
│   ├── prd.md                  # 产品需求文档
│   ├── architecture.md         # 架构文档
│   ├── prd/                    # 分片PRD文件
│   ├── architecture/           # 分片架构文件
│   └── stories/                # 用户故事
└── src/                        # 源代码
```

## 🎯 最佳实践

### 1. 上下文管理
- **保持清洁**：每个阶段使用新对话
- **聚焦任务**：一次只处理一个故事
- **及时压缩**：大对话时压缩上下文

### 2. 代理选择
- **明确职责**：为特定任务选择合适代理
- **避免混用**：不要在一个对话中混用多个代理
- **清晰指令**：提供明确的任务描述

### 3. 增量开发
- **小步快跑**：将大功能拆分为小故事
- **频繁提交**：每完成一个故事就提交
- **持续验证**：每步都进行人工检查

### 4. 文件组织
- **保持结构**：维护清晰的项目结构
- **精简文档**：保持文档聚焦和简洁
- **版本控制**：及时提交所有更改

## 🔧 常见问题与解决方案

### Q: 代理响应质量下降怎么办？
A: 开始新对话，重新加载代理。大对话会影响AI性能。

### Q: 如何处理复杂功能？
A: 将复杂功能拆分为多个小故事，逐一实现。

### Q: 文档不一致怎么办？
A: 使用PO代理运行主检查清单，检查所有文档的一致性。

### Q: 如何自定义技术偏好？
A: 编辑 `.bmad-core/data/technical-preferences.md` 文件。

### Q: 代理找不到文件怎么办？
A: 检查 `core-config.yaml` 中的路径配置是否正确。

## 📚 进阶功能

### 扩展包系统
BMad支持扩展包来支持特定领域：
- **游戏开发**：Unity、Phaser扩展包
- **基础设施**：DevOps、云服务扩展包
- **创意写作**：内容创作扩展包

### 技术偏好系统
通过 `technical-preferences.md` 个性化推荐：
- 设计模式偏好
- 技术栈选择
- 代码风格约定

### 棕地项目支持
对于现有项目：
1. 阅读 `working-in-the-brownfield.md`
2. 使用代码扁平化工具
3. 逐步集成BMad工作流

## 🔗 资源链接

- **GitHub仓库**：https://github.com/bmadcode/bmad-method
- **Discord社区**：https://discord.gg/gk8jAdXWmj
- **YouTube频道**：https://www.youtube.com/@BMadCode
- **NPM包**：https://www.npmjs.com/package/bmad-method

## 📈 总结

BMad-Method通过结构化的双阶段方法和专业AI代理系统，将复杂的软件开发过程转变为可预测、高效的工作流程。关键是理解每个代理的职责，遵循清洁的上下文管理，并保持增量式的开发节奏。

记住：**BMad旨在增强您的开发过程，而不是替代您的专业知识**。将其作为强大的工具来加速项目进展，同时保持对设计决策和实施细节的控制。
